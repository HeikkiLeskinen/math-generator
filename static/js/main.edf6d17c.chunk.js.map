{"version":3,"sources":["redux/types.ts","domain/index.ts","domain/mathExercise.ts","redux/reducers.ts","screens/Catalogue/Exercise/index.tsx","screens/Catalogue/index.tsx","App.tsx","reportWebVitals.ts","redux/store.ts","index.tsx"],"names":["TYPES","BaseOperator","AdvancedOperator","Category","randEnumValue","enumObj","randomNumberGenerator","enumVal","Object","values","Math","floor","length","MathExercise","params","id","symbols","wasLastSubmittedAnswerCorrect","this","answer","evaluate","toString","join","generateSymbols","generateRandomNumber","highDigit","numberOfDigits","generateNumber","operator","max","number","calculateNewVal","currentVal","value","firstNumber","currentString","push","newNumber","min","initialState","score","config","numberOfExercises","catalogue","exercisesCompleted","exerciseToBeCompleted","storage","symbolsById","undefined","updateStorage","catelogue","exercisesCompletedMap","map","e","completed","exerciseToBeCompletedMap","concat","readFromStorage","filter","s","generateExercises","exerciseConfig","Array","_","i","props","random","uuidv4","createMathExercise","useStyles","makeStyles","cardRow","border","boxShadow","textShadow","alignItems","exercise","display","flexWrap","alignContent","justifyContent","calculation","flex","textAlign","marginLeft","padding","inCorrect","backgroundColor","color","input","fontSize","fontFamily","fontWeight","lineHeight","letterSpacing","focused","white","yellow","icon","margin","height","width","ExerciseComponent","index","classes","useState","setValue","dispatch","useDispatch","submitAnswer","type","SUBMIT_ANSWER","payload","parseInt","Card","CardContent","className","clsx","Container","Box","Typography","variant","TextField","inputRef","focus","name","onChange","target","test","onKeyPress","key","handleKeyPress","InputProps","onClick","Catalogue","useSelector","state","targetFailed","App","theme","createTheme","palette","primary","main","purple","secondary","LABELS","settings","label","getMax","ThemeProvider","Grid","container","spacing","item","xs","maxWidth","style","paddingTop","ImageList","cols","gap","rowHeight","setting","ImageListItem","CardActions","InputLabelProps","shrink","fullWidth","inputProps","step","str","isEmpty","UPDATE_CONFIG","handleChange","currentTarget","Button","START_GAME","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","persistConfig","debug","persistedReducer","persistReducer","action","REHYDRATE","find","solve","store","createStore","compose","applyMiddleware","createLogger","persistor","persistStore","getState","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.edf6d17c.chunk.js","sourcesContent":["enum TYPES {\n    START_GAME = 'START_GAME',\n    UPDATE_CONFIG = 'UPDATE_CONFIG',\n    GENERATE_EXERICES = 'GENERATE_EXERICES',\n    SUBMIT_ANSWER = 'SUBMIT_ANSWER',\n    INCREASE_SCORE = 'INCREASE_SCORE'\n}\n\nexport default TYPES;","export interface Catalogue {\n    exercisesCompleted: Exercise[] | []\n    exerciseToBeCompleted: Exercise[] |[]\n}\n \nexport enum BaseOperator {\n    ADD = '+',\n    SUBSTRACT = '-',\n    MULTIPLY = '*',\n}\n\nexport enum AdvancedOperator {\n    ADD= '+',\n    SUBSTRACT = '-',\n    MULTIPLY = '*',\n    DIVIDE= '/',\n    EQUAL='=',\n    LESS='<',\n    GREATER='>'\n}\n\nexport function randEnumValue<T>(enumObj: T, randomNumberGenerator: Function): T[keyof T] {\n    const enumVal = Object.values(enumObj);\n    const i = Math.floor(randomNumberGenerator() * enumVal.length);\n    return enumVal[i];\n}\n\nexport type SymbolsMap = { id: string, symbols: string[], completed: Boolean};\n\nexport interface Storage {\n    symbolsById: any | undefined\n}\n\nexport interface Exercise {\n    id: string;\n    wasLastSubmittedAnswerCorrect?: boolean;\n    toString: Function;\n    solve: Function;        \n}\n\nexport interface Config {\n    numberOfExercises: number;\n    numberOfDigits: number;\n    highDigit: number;\n}\n\nexport enum Category {\n    WALK = 'WALK',\n    FIGHT = 'FIGHT',\n    OPEN = 'OPEN',\n}\n","import { evaluate } from \"mathjs\";\nimport { AdvancedOperator, BaseOperator, Exercise, randEnumValue } from \".\";\nimport { v4 as uuidv4 } from 'uuid';\n\ninterface Params {\n    id: string,\n    symbols: string[]\n}\n\nexport class MathExercise implements Exercise { \n    id: string;   \n    symbols: string[] = []\n    wasLastSubmittedAnswerCorrect?: boolean\n   \n    constructor(params : Params = {} as Params) {\n        const {\n            id,\n            symbols,    \n        } = params;\n\n        this.id = id;\n        this.symbols = symbols; \n    }\n\n    solve(answer: number): boolean { //rename to solve?\n        this.wasLastSubmittedAnswerCorrect = (evaluate(this.toString()) === answer);        \n        return this.wasLastSubmittedAnswerCorrect;\n    }  \n    \n    toString(): string {\n        return this.symbols.join(\" \");   \n    }\n    \n}\n  \nconst generateSymbols = (generateRandomNumber: Function, highDigit: number, numberOfDigits: number) => {\n    const generateNumber = (operator: BaseOperator | AdvancedOperator, max:number): number => {\n        const number = Math.floor(generateRandomNumber() * max)\n        return number === 0 && (operator=== '/' || operator=== '*') ? number + 1 : number\n    };\n\n    const calculateNewVal = (operator: string, currentVal: number,value:number ): number => {\n        switch (operator) {\n            case '*':\n                return currentVal * value;\n            case '/':\n                return currentVal / value;\n            case '+':\n                    return currentVal + value;\n            case '-':\n                    return currentVal - value;\n            default:\n                return currentVal;\n        } \n    };\n\n    let symbols =[]\n\n    const firstNumber = Math.floor(generateRandomNumber() * highDigit)+1;\n    let currentVal = firstNumber;\n    let currentString = firstNumber.toString()\n    symbols.push(currentString);\n\n    while (currentString.length < 2 * numberOfDigits -1) {\n        let operator = randEnumValue(BaseOperator, generateRandomNumber)\n        let newNumber =  Math.min(currentVal, generateNumber(operator, highDigit));\n        currentVal =  calculateNewVal(operator, currentVal, newNumber);\n        currentString += operator + newNumber.toString()\n         //save symbols \n        symbols.push(operator, newNumber.toString());\n    \n    }\n    return symbols\n}\n\ninterface CreateMathExerciseProps {\n    generateRandomNumber?: Function, \n    highDigit: number,\n    numberOfDigits: number,\n}\nexport const createMathExercise= (props: CreateMathExerciseProps): MathExercise =>{\n    const generateRandomNumber = props.generateRandomNumber? props.generateRandomNumber: Math.random;\n    const highDigit= props.highDigit;\n    const numberOfDigits= props.numberOfDigits\n    return  new MathExercise({\n        'id': uuidv4(),\n        'symbols': generateSymbols(generateRandomNumber,highDigit, numberOfDigits)\n     });         \n\n}\n\n\n\n","import { Catalogue, Config, Exercise, Storage, SymbolsMap } from '../domain/index';\nimport { Actions } from './actions';\nimport TYPES from './types';\nimport { createMathExercise,  MathExercise }  from '../domain/mathExercise';\nimport { REHYDRATE } from 'redux-persist';\n\n\nexport default function reducer() {}\n\nexport interface GameState {\n    score: number;\n    config: Config;\n    catalogue: Catalogue;\n    storage: Storage;\n}\n\nexport const initialState: GameState = {\n    score: 0,\n    config: {\n        numberOfExercises: 3,\n        numberOfDigits: 2,\n        highDigit: 10\n    },\n    catalogue: {  \n        exercisesCompleted:  [],\n        exerciseToBeCompleted: []\n    },\n    storage: { \n        symbolsById: undefined\n    }\n}\n\n\nexport const gameReducer = (\n    state: GameState = initialState,\n    action: Actions,\n  ): GameState => {\n\n    switch (action.type) {\n        case REHYDRATE: //READ FROM DISK   \n            if (action.payload){\n                return {\n                    ...action.payload,\n                    catalogue: readFromStorage(action.payload.storage),\n                }\n            }\n            else {\n                return {\n                    ...state,\n                    \n                }\n            }\n        case TYPES.START_GAME:\n            const catalogue = generateExercises(state.config)        \n            return {\n                ...state,\n                score: 0,\n                catalogue: catalogue,\n                storage: updateStorage(catalogue)\n            }\n        case TYPES.UPDATE_CONFIG:\n            return {\n                ...state,\n                config: {\n                    ...state.config,\n                    ...action.payload\n                }\n            }\n            case TYPES.SUBMIT_ANSWER:\n                const {id, answer} = action.payload\n                \n                const exercise = state.catalogue.exerciseToBeCompleted.find(e => e.id === id);\n    \n                if (exercise){      \n                    if (exercise.solve(answer)){\n                     \n                        const catalogue = {\n                            ...state.catalogue,\n                            exercisesCompleted: [...state.catalogue.exercisesCompleted, exercise],\n                            exerciseToBeCompleted: state.catalogue.exerciseToBeCompleted.filter(e => e.id !== id)\n                        }\n\n                        return {\n                            ...state,\n                            score: state.score + 1, \n                            catalogue: catalogue,  \n                            storage: updateStorage(catalogue)                         \n                        }\n                    } else {\n                        return {\n                            ...state,\n                            score: state.score - 1,\n                            storage: updateStorage(state.catalogue)                                     \n                        }\n                    }                                        \n                } else {\n                    return state;\n                }\n\n        default:\n            return state;\n    }\n}\n\nconst updateStorage = (catelogue: Catalogue): Storage => {\n    const {exercisesCompleted ,exerciseToBeCompleted } = catelogue;\n\n    const exercisesCompletedMap = exercisesCompleted!.map((e) => (\n        { id: e.id, symbols: (e as MathExercise).symbols, completed: true}\n        )\n    )\n    const exerciseToBeCompletedMap = exerciseToBeCompleted.map((e) => (\n        { id: e.id, symbols: (e as MathExercise).symbols, completed: false}\n        )\n    )\n\n    return {\n        symbolsById: exercisesCompletedMap.concat (exerciseToBeCompletedMap)\n    }\n}\n\nconst readFromStorage = (storage: Storage): Catalogue => {\n\n    if(storage && storage.symbolsById){ // REMOVE ME\n\n        // []\n        //  {id: \"dced3868-08c6-4325-b363-fd07ebdeac5f\", symbols: Array(3), completed: true}\n        const exercisesCompleted: Exercise[] = storage.symbolsById.filter((s: SymbolsMap) => s.completed === true)\n            .map((s: SymbolsMap) => new MathExercise({\n                'id': s.id,\n                'symbols': s.symbols,\n               \n            }));\n\n        const exerciseToBeCompleted = storage.symbolsById.filter((s: SymbolsMap) => s.completed === false)\n            .map((s: SymbolsMap) => new MathExercise({\n                'id': s.id,\n                'symbols': s.symbols,\n            }));\n        \n        return {  \n            exercisesCompleted:  exercisesCompleted,\n            exerciseToBeCompleted: exerciseToBeCompleted\n        }\n    } else {\n        return {  \n            exercisesCompleted: initialState.catalogue.exercisesCompleted ,\n            exerciseToBeCompleted: initialState.catalogue.exerciseToBeCompleted\n        }\n    }\n\n    \n}\n\nconst generateExercises = (config: Config): Catalogue => {\n    const {numberOfExercises, highDigit, numberOfDigits} = config\n    const exerciseConfig = {highDigit:highDigit, numberOfDigits:numberOfDigits}\n    return {\n        exercisesCompleted:[],\n        exerciseToBeCompleted: [...Array(numberOfExercises)].map((_, i) : Exercise => {\n            return createMathExercise(exerciseConfig)            \n        })\n    };\n};\n\nfunction uuidv4(): string {\n    throw new Error('Function not implemented.');\n}\n","import { Box } from \"@material-ui/core\";\nimport {\n  Card,\n  CardContent,\n  Container,\n  TextField,\n  makeStyles,\n  Typography,\n} from \"@material-ui/core\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport clsx from \"clsx\";\nimport { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Exercise } from \"../../../domain\";\nimport TYPES from \"../../../redux/types\";\n\nconst useStyles = makeStyles({\n    cardRow: {\n      border: \"0 solid transparent\",\n      boxShadow: \"0 0.1875rem 0 #ec131e\",\n      textShadow: \"0 0.0625rem 0 rgb(0 0 0 / 15%)\",\n      alignItems: \"center\",\n    },\n    exercise: {\n      display: \"flex\",\n      flexWrap: \"nowrap\",\n      alignContent: \"flex-start\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n    },\n    calculation: {\n      flex: 0.5,\n      textAlign: \"end\",\n    },\n    answer: {\n      flex: 0.5,\n      display: \"flex\",\n      alignItems: \"center\",\n      marginLeft: \"10px\",\n      padding: \"10px\",\n    },\n    inCorrect: {\n      backgroundColor: \"#ef5350\", // red\n      color: \"#fff\",\n      textShadow: \"0 0.0625rem 0 rgb(0 0 0 / 15%)\",\n    },\n    input: {\n      border: \"10 solid green\",\n      fontSize: \"3rem\",\n      fontFamily: \"Roboto, Helvetica, Arial, sans-serif\",\n      fontWeight: 400,\n      lineHeight: \"1.167\",\n      letterSpacing: \"0em\",\n      color: \"#929797\", // grey\n    },\n    focused: {\n      color: \"#25ad62\", // green\n    },\n    white: {\n      color: \"white\",\n      textShadow: \"0 0.0625rem 0 rgb(0 0 0 / 15%)\",\n    },\n    yellow: {\n      color: \"#ffee58\",\n      textShadow: \"0 0.0625rem 0 rgb(0 0 0 / 15%)\",\n    },\n    icon: {\n      margin: \"10px\",\n      display: \"flex\",\n      height: \"50%\",\n      width: \"50%\",\n    },\n  });\n\n\nexport interface Props {\n    exercise: Exercise ;\n    index: number;\n}\n\nexport function ExerciseComponent({exercise , index}: Props) {\n    const classes = useStyles();\n    const [value, setValue] = useState<string>('');\n\n    const dispatch = useDispatch();\n\n    const updateAnswer = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const re = /^[0-9\\b]+$/;\n        if (e.target.value === '' || re.test(e.target.value)) {\n            setValue(e.target.value);\n        }\n    };\n\n    const handleKeyPress = (e: React.KeyboardEvent, id: string) => {\n      if(e.key === 'Enter'){\n        submitAnswer(id);\n      }\n    }\n\n    const submitAnswer = (id: string) => {\n      dispatch({\n        type: TYPES.SUBMIT_ANSWER,\n        payload: {id: id, answer: parseInt(value)}\n      });\n    };\n\n    return (\n        <Card key={exercise.id}>\n        <CardContent\n          className={clsx(classes.cardRow, {\n            [classes.inCorrect]: exercise.wasLastSubmittedAnswerCorrect === false,\n          })}\n        >\n            <Container className={classes.exercise}>\n              <Box className={classes.calculation}>\n                <Typography variant=\"h3\">\n                  {exercise.toString()} =\n                </Typography> \n              </Box>\n              <Box className={clsx(classes.answer)}>\n                <TextField\n                  inputRef={input => input && index === 0 && input.focus()}\n                  value={value}\n                  name={exercise.id}\n                  variant=\"outlined\"\n                  onChange={updateAnswer}\n                  onKeyPress={e => handleKeyPress(e, exercise.id)}\n                  InputProps={{\n                    className: clsx(classes.input, {\n                      [(classes.inCorrect, classes.white)]:\n                        exercise.wasLastSubmittedAnswerCorrect === false,\n                    }),\n                    classes: {\n                      focused:\n                        exercise.wasLastSubmittedAnswerCorrect === false\n                          ? classes.yellow\n                          : classes.focused,\n                    },\n                  }}\n                />\n                <Box>\n                  <SendIcon\n                    className={classes.icon}\n                    onClick={() => submitAnswer(exercise.id)}\n                  />\n                </Box>\n              </Box>\n            </Container>\n        </CardContent>\n      </Card>\n    );\n}\n","import { useSelector } from \"react-redux\";\nimport { MathExercise } from \"../../domain/mathExercise\";\nimport { GameState } from \"../../redux/reducers\";\nimport \"./App.css\";\nimport { ExerciseComponent } from \"./Exercise\";\n\nexport function Catalogue() {\n  const { catalogue  } = useSelector((state: GameState) => {\n    return {\n      catalogue: state.catalogue \n    } ;\n  });\n\n  return catalogue.exerciseToBeCompleted.length> 0 ?\n      <div>\n        {catalogue.exerciseToBeCompleted.map((exercise, index) =>\n          {\n            return <ExerciseComponent\n           key={exercise.id}\n           exercise={exercise}\n          index={index}/>\n         }\n         )\n      }\n    </div> : null; \n}","import \"./App.css\";\nimport { Button, Container, Grid, makeStyles, TextField } from \"@material-ui/core\";\nimport { createTheme } from \"@material-ui/core/styles\";\nimport purple from \"@material-ui/core/colors/purple\";\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { ThemeProvider } from \"@material-ui/core\";\nimport { ImageList } from \"@material-ui/core\";\nimport { ImageListItem } from \"@material-ui/core\";\nimport { Card } from \"@material-ui/core\";\nimport { CardActions } from \"@material-ui/core\";\nimport { CardContent } from \"@material-ui/core\";\nimport { GameState, initialState } from \"./redux/reducers\";\nimport TYPES from \"./redux/types\";\nimport { Catalogue } from \"./screens/Catalogue\";\n\n\nconst useStyles = makeStyles({\n  targetFailed: {\n    backgroundColor: \"#ef5350\",\n    color: \"#fff\",\n    textShadow: \"0 0.0625rem 0 rgb(0 0 0 / 15%)\",\n  }\n})\n\nfunction App() {\n  const { config, score } = useSelector((state: GameState) => {\n    return {\n      config: state.config?state.config: initialState.config,\n      score: state.score,\n    };\n  });\n\n\n  const classes = useStyles();\n\n  const dispatch = useDispatch();\n\n  const theme = createTheme({\n    palette: {\n      primary: {\n        main: purple[500],\n      },\n      secondary: {\n        main: \"#11cb5f\",\n      },\n    },\n  });\n\n  const LABELS: string[] = [\n    \"High Digit\",\n    \"Number of Digit\",\n    \"Number of Exercise\",\n    \"Target (%)\",\n  ];\n\n  interface SettingProps {\n    label: string;\n    value: number;\n  }\n\n  const settings: SettingProps[] = [\n    { label: LABELS[0], value: config.highDigit },\n    { label: LABELS[1], value: config.numberOfDigits },\n    { label: LABELS[2], value: config.numberOfExercises }\n  ];\n\n  const isEmpty = (str: string): boolean => {\n    return (!str || str.length === 0 );\n  }\n\n  const handleChange = (label: string, str: string) => {\n    if (isEmpty(str)){\n      return;\n    }\n\n    const value = parseInt(str);\n    if (label === LABELS[0]) {\n      dispatch({type: TYPES.UPDATE_CONFIG, payload: { highDigit: value }});\n    } else if (label === LABELS[1]) {\n      dispatch({type: TYPES.UPDATE_CONFIG, payload: { numberOfDigits: value }});\n    } else if (label === LABELS[2]) {\n      dispatch({type: TYPES.UPDATE_CONFIG, payload: { numberOfExercises: value }});\n    } else {\n      dispatch({type: TYPES.UPDATE_CONFIG, payload: { target: value }});\n  }\n\n  };\n\n  const getMax = (label: string) => {\n    if (label === LABELS[0]) {\n      return 100;\n    } else if (label === LABELS[1]) {\n      return 5;\n    } else {\n      return 15;\n    }\n  };\n\n  const getMin = (label: string) => {\n    if (label === LABELS[0]) {\n      return 0;\n    } else if (label === LABELS[1]) {\n      return 2;\n    } else {\n      return 1;\n    }\n  };\n\n  return (\n    <>\n      <ThemeProvider theme={theme}>\n      <Grid container spacing={1}>\n        <Grid item xs={10}>\n        <Container maxWidth=\"xl\">\n            <Catalogue/>\n          </Container>\n\n          <Container\n            maxWidth=\"xl\"\n            style={{\n              paddingTop: \"10px\",\n            }}\n          >\n              <Card>\n              <CardContent>\n                <ImageList cols={4} gap={30} rowHeight={\"auto\"}>\n                  {settings.map((setting) => (\n                    <ImageListItem cols={1}>\n                      <CardActions>\n                        <TextField\n                          label={setting.label}\n                          type=\"number\"\n                          InputLabelProps={{ shrink: true }}\n                          variant=\"filled\"\n                          value={setting.value}\n                          fullWidth\n                          inputProps={{\n                            step: 1,\n                            min: getMin(setting.label),\n                            max: getMax(setting.label),\n                          }}\n                          onChange={(e) =>\n                            handleChange(setting.label, e.currentTarget.value)\n                          }\n                        />\n                      </CardActions>\n                    </ImageListItem>\n                  ))}\n                  <ImageListItem cols={1}>\n                    <CardActions>\n                      <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={() => dispatch({type: TYPES.START_GAME})}\n                      >\n                        GENERATE EXERCISE\n                      </Button> \n                    </CardActions>\n                  </ImageListItem>\n                </ImageList>\n              </CardContent>\n            </Card>\n          </Container>\n        </Grid>\n        <Grid item xs={2}>\n\n          <table>\n            <thead>\n              <tr >\n                <th>Total Score:</th>\n                <th>{score}</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Max Score:</td>\n                <td>{config.numberOfExercises}</td>\n              </tr>\n            </tbody>\n          </table>\n        </Grid>\n      </Grid>\n\n      </ThemeProvider>\n    </>\n  );\n}\n\nexport default App;\n\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {createStore, applyMiddleware, compose} from 'redux';\nimport { createLogger } from 'redux-logger';\nimport {gameReducer, GameState} from './reducers';\nimport storage from 'redux-persist/lib/storage';\nimport { persistReducer, persistStore } from 'redux-persist';\n\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n  debug: true,\n}\n\nconst persistedReducer = persistReducer<GameState>(persistConfig, gameReducer);\n\nexport const store = createStore(\n  persistedReducer, \n  undefined,\n  compose(applyMiddleware(\n    createLogger(),\n  ))\n)\n\nexport const persistor = persistStore(store, null, () => {store.getState()})\n \n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport { store, persistor } from './redux/store';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <App />\n      </PersistGate>\n    </Provider>          \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}